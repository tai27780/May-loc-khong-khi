<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Qu·∫°t h√∫t ‚Äì M√¥ h√¨nh 3D</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
            background: #0f172a;
        }

        header {
            height: 60px;
            line-height: 60px;
            text-align: center;
            font-size: 22px;
            font-weight: bold;
            color: white;
            background: #1e293b;
        }

        #viewer {
            width: 100vw;
            height: calc(100vh - 100px);
        }

        footer {
            height: 40px;
            line-height: 40px;
            text-align: center;
            font-size: 14px;
            color: #cbd5f5;
            background: #1e293b;
        }
    </style>
</head>
<body>

<header>QU·∫†T H√öT ‚Äì M√î H√åNH 3D</header>
<div id="viewer"></div>
<footer>üñ± K√©o ƒë·ªÉ xoay ‚Ä¢ üîç Cu·ªôn ƒë·ªÉ zoom</footer>

<!-- THREE JS -->
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/controls/OrbitControls.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/loaders/GLTFLoader.js"></script>

<script>
    // Scene
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0x0f172a);

    // Camera
    const camera = new THREE.PerspectiveCamera(
        60,
        window.innerWidth / (window.innerHeight - 100),
        0.1,
        1000
    );
    camera.position.set(2, 2, 3);

    // Renderer
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight - 100);
    document.getElementById("viewer").appendChild(renderer.domElement);

    // Controls
    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;

    // Lights
    scene.add(new THREE.AmbientLight(0xffffff, 0.7));

    const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
    dirLight.position.set(5, 5, 5);
    scene.add(dirLight);

    // Load model
    const loader = new THREE.GLTFLoader();
    let model;

    loader.load(
    "quat_hut.glb",
    function (gltf) {
        model = gltf.scene;

        // T√≠nh bounding box
        const box = new THREE.Box3().setFromObject(model);
        const size = box.getSize(new THREE.Vector3()).length();
        const center = box.getCenter(new THREE.Vector3());

        // Center model v·ªÅ (0,0,0)
        model.position.x += (model.position.x - center.x);
        model.position.y += (model.position.y - center.y);
        model.position.z += (model.position.z - center.z);

        // Auto scale cho v·ª´a m√†n h√¨nh
        const scale = 2 / size;
        model.scale.setScalar(scale);

        scene.add(model);

        // ƒê∆∞a camera nh√¨n ƒë√∫ng model
        camera.position.set(0, 1.5, 3);
        camera.lookAt(0, 0, 0);

        console.log("Model loaded OK");
    },
    undefined,
    function (error) {
        console.error("Load l·ªói:", error);
    }
);
    // Resize
    window.addEventListener("resize", () => {
        camera.aspect = window.innerWidth / (window.innerHeight - 100);
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight - 100);
    });

    // Animate
    function animate() {
        requestAnimationFrame(animate);

        if (model) {
            model.rotation.y += 0.003; // xoay nh·∫π
        }

        controls.update();
        render

